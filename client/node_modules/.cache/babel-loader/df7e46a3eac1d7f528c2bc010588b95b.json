{"ast":null,"code":"var _jsxFileName = \"/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/Nutrition.js\";\nimport React, { Component } from 'react';\nimport { MapContainer, CircleMarker, TileLayer, Tooltip } from \"react-leaflet\";\n\nvar CanvasJSReact = require('./canvasjs.react');\n\nvar CanvasJS = CanvasJSReact.CanvasJS;\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nexport default class Nutrition extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      countries: [],\n      selectedCountry: \"\"\n    };\n    this.submitCountryChange = this.submitCountryChange.bind(this);\n    this.handleCountryChange = this.handleCountryChange.bind(this); // this.handleGenreChange = this.handleGenreChange.bind(this);\n  }\n\n  /* ---- Q3a (Best Movies) ---- */\n  componentDidMount() {\n    console.log(\"HELLO\"); //fetch the weeks options\n\n    fetch(\"http://localhost:8081/nutrition\", {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(countryList => {\n      if (!countryList) return;\n      const countryDivs = countryList.map((countryObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        className: \"countryOption\",\n        value: countryObj.Country,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 5\n        }\n      }, countryObj.Country)); //   console.log(decadesDivs);\n      //    console.log(decadesList);\n\n      this.setState({\n        countries: countryDivs,\n        selectedCountry: countryDivs[0].props.value\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  handleCountryChange(e) {\n    let tmp = e.target.value;\n    this.setState({\n      selectedCountry: tmp\n    });\n  }\n\n  submitCountryChange(e) {\n    fetch(\"http://localhost:8081/byCountry/\" + this.state.selectedCountry, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(nutr => {\n      if (!nutr) return;\n      const options = {\n        exportEnabled: true,\n        animationEnabled: true,\n        title: {\n          text: \"Website Traffic Sources\"\n        },\n        data: [{\n          type: \"pie\",\n          startAngle: 75,\n          toolTipContent: \"<b>{label}</b>: {y}%\",\n          showInLegend: \"true\",\n          legendText: \"{label}\",\n          indexLabelFontSize: 16,\n          indexLabel: \"{label} - {y}%\",\n          dataPoints: [{\n            y: 18,\n            label: \"Direct\"\n          }, {\n            y: 49,\n            label: \"Organic Search\"\n          }, {\n            y: 9,\n            label: \"Paid Search\"\n          }, {\n            y: 5,\n            label: \"Referral\"\n          }, {\n            y: 19,\n            label: \"Social\"\n          }]\n        }]\n      };\n      const ret = /*#__PURE__*/React.createElement(CanvasJSChart, {\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }); // Set the state of the keywords list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        chart: ret\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"nutrition\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"HELLO\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedCountry,\n      onChange: this.handleCountryChange,\n      className: \"dropdown\",\n      id: \"countryDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, this.state.countries), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"submitBtn\",\n      onClick: this.submitCountryChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chart\",\n      id: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, this.state.chart));\n  }\n\n}","map":{"version":3,"sources":["/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/Nutrition.js"],"names":["React","Component","MapContainer","CircleMarker","TileLayer","Tooltip","CanvasJSReact","require","CanvasJS","CanvasJSChart","Nutrition","constructor","props","state","countries","selectedCountry","submitCountryChange","bind","handleCountryChange","componentDidMount","console","log","fetch","method","then","res","json","err","countryList","countryDivs","map","countryObj","i","Country","setState","value","e","tmp","target","nutr","options","exportEnabled","animationEnabled","title","text","data","type","startAngle","toolTipContent","showInLegend","legendText","indexLabelFontSize","indexLabel","dataPoints","y","label","ret","chart","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { MapContainer, CircleMarker, TileLayer,Tooltip } from \"react-leaflet\";\n\nvar CanvasJSReact = require('./canvasjs.react');\nvar CanvasJS = CanvasJSReact.CanvasJS;\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nexport default class Nutrition extends React.Component {\n    constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcountries: [],\n            selectedCountry: \"\"\n\t\t};\n\n\t\tthis.submitCountryChange = this.submitCountryChange.bind(this);\n\t    this.handleCountryChange = this.handleCountryChange.bind(this);\n\t\t// this.handleGenreChange = this.handleGenreChange.bind(this);\n\t};\n\n\t/* ---- Q3a (Best Movies) ---- */\n\tcomponentDidMount() {\n        console.log(\"HELLO\");\n        //fetch the weeks options\n        fetch(\"http://localhost:8081/nutrition\",\n\t\t{\n\t\t  method: 'GET' // The type of HTTP request.\n\t\t}).then(res => {\n\t\t  // Convert the response data to a JSON.\n\t\t  return res.json();\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log(err);\n\t  }).then(countryList => {\n\t\t  if (!countryList) return;\n\n\t\t  const countryDivs = countryList.map((countryObj, i) =>\n\t\t  <option\n\t\t      key={i}\n\t\t      className=\"countryOption\"\n\t\t\t  value={countryObj.Country}>{countryObj.Country}\n\t\t  </option>\n\t\t  );\n        //   console.log(decadesDivs);\n\t\t//    console.log(decadesList);\n\t\t  this.setState({\n\t\t\tcountries: countryDivs,\n\t\t\tselectedCountry: countryDivs[0].props.value,\n\t\t  });\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log(err);\n\t\t});\n\n\t};\n \n    handleCountryChange(e) {\n        let tmp = e.target.value;\n\t\tthis.setState({\n\t\t\tselectedCountry: tmp\n\t\t});\n\n\t};\n\n    submitCountryChange(e) {\n        fetch(\"http://localhost:8081/byCountry/\"+this.state.selectedCountry,\n        {\n            method: 'GET' // The type of HTTP request.\n        }).then(res =>{\n            return res.json();\n        }, err => {\n            // Print the error if there is one.\n            console.log(err);\n        }).then(nutr => {\n            if (!nutr) return;\n            const options = {\n                exportEnabled: true,\n                animationEnabled: true,\n                title: {\n                    text: \"Website Traffic Sources\"\n                },\n                data: [{\n                    type: \"pie\",\n                    startAngle: 75,\n                    toolTipContent: \"<b>{label}</b>: {y}%\",\n                    showInLegend: \"true\",\n                    legendText: \"{label}\",\n                    indexLabelFontSize: 16,\n                    indexLabel: \"{label} - {y}%\",\n                    dataPoints: [\n                        { y: 18, label: \"Direct\" },\n                        { y: 49, label: \"Organic Search\" },\n                        { y: 9, label: \"Paid Search\" },\n                        { y: 5, label: \"Referral\" },\n                        { y: 19, label: \"Social\" }\n                    ]\n                }]\n            };\n            const ret = <CanvasJSChart options = {options}/>;\n\n        // Set the state of the keywords list to the value returned by the HTTP response from the server.\n        this.setState({\n            chart:ret\n        });\n    }, err => {\n        // Print the error if there is one.\n        console.log(err);\n      });\n    \n\t};\n  render() {\n    return (\n    <div id = \"nutrition\">\n            <h1>HELLO</h1>\n        <div className=\"dropdown-container\">\n            <select value={this.state.selectedCountry} onChange={this.handleCountryChange} className=\"dropdown\" id=\"countryDropdown\">\n                {this.state.countries}\n            </select>\n            <button className=\"submit-btn\" id=\"submitBtn\" onClick={this.submitCountryChange}>Submit</button>\n        </div>\n        <div className=\"chart\" id=\"chart\">\n\t\t\t{this.state.chart}\n\t\t</div>\n    </div>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}