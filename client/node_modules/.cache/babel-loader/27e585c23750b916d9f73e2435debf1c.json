{"ast":null,"code":"var _jsxFileName = \"/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/BestMovies.js\";\nimport React from 'react';\nimport PageNavbar from './PageNavbar';\nimport BestMoviesRow from './BestMoviesRow';\nimport '../style/BestMovies.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nexport default class BestMovies extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedSex: \"\",\n      selectedAgegroup: \"\",\n      selectedRace: \"\",\n      sexes: [],\n      agegroups: [],\n      races: [],\n      results: []\n    };\n    this.submitDecadeGenre = this.submitDecadeGenre.bind(this);\n    this.handleSexChange = this.handleSexChange.bind(this);\n    this.handleAgegroupChange = this.handleAgegroupChange.bind(this);\n    this.handleRaceChange = this.handleRaceChange.bind(this);\n  }\n\n  /* ---- Q3a (Best Movies) ---- */\n  componentDidMount() {\n    this.setState({\n      sexes: [{\n        sex: \"Male\"\n      }, {\n        sex: \"Female\"\n      }].map((sexesObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        className: \"sexesOption\",\n        value: sexesObj.sex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 7\n        }\n      }, sexesObj.sex)),\n      selectedSex: 'Male'\n    });\n    this.setState({\n      agegroups: [{\n        Decade: \"0 - 9 Years\"\n      }, {\n        Decade: \"10 - 19 Years\"\n      }, {\n        Decade: \"20 - 29 Years\"\n      }, {\n        Decade: \"30 - 39 Years\"\n      }, {\n        Decade: \"40 - 49 Years\"\n      }, {\n        Decade: \"50 - 59 Years\"\n      }, {\n        Decade: \"60 - 69 Years\"\n      }, {\n        Decade: \"70 - 79 Years\"\n      }, {\n        Decade: \"80+ Years\"\n      }].map((decadesObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        className: \"decadesOption\",\n        value: decadesObj.Decade,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }\n      }, decadesObj.Decade)),\n      selectedAgegroup: \"0 - 9 Years\"\n    });\n    this.setState({\n      races: [{\n        Race: \"American Indian-Alaska Native\"\n      }, {\n        Race: \"Asian\"\n      }, {\n        Race: \"Black\"\n      }, {\n        Race: \"Hispanic-Latino\"\n      }, {\n        Race: \"Multiple-Other\"\n      }, {\n        Race: \"Native Hawaiian-Other Pacific Islander\"\n      }, {\n        Race: \"White\"\n      }].map((racesObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        className: \"racesOption\",\n        value: racesObj.Race,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }, racesObj.Race)),\n      selectedRace: \"American Indian-Alaska Native\"\n    });\n  }\n\n  /* ---- Q3a (Best Movies) ---- */\n  handleSexChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedSex: e.target.value\n    });\n  }\n\n  handleAgegroupChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedAgegroup: e.target.value\n    });\n  }\n\n  handleRaceChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      selectedRace: e.target.value\n    });\n  }\n\n  /* ---- Q3b (Best Movies) ---- */\n  submitDecadeGenre() {\n    fetch(\"http://localhost:8081/groups/\" + this.state.selectedSex + \"/\" + this.state.selectedAgegroup + \"/\" + this.state.selectedRace, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log('nononononononono');\n      console.log(err);\n    }).then(resList => {\n      if (!resList) return;\n      console.log(resList);\n      const resDivs = resList.map((resObj, i) => /*#__PURE__*/React.createElement(BestMoviesRow, {\n        key: i,\n        title: resObj.ratio1,\n        movie_id: resObj.ratio2,\n        ratio3: resObj.ratio3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 4\n        }\n      })); // Set the state of the keywords list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        results: resDivs\n      });\n    }, err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"BestMovies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"groups\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container bestmovies-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"jumbotron bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, \"Covid Group Exploration\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }, \"By choosing sex, race and age group, we can see three the percentage of whether people infected by \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 126\n      }\n    }), \"COVID-19 among their group are in hospital, in icu or death.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedSex,\n      onChange: this.handleSexChange,\n      className: \"dropdown\",\n      id: \"sexesDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, this.state.sexes), /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedAgegroup,\n      onChange: this.handleAgegroupChange,\n      className: \"dropdown\",\n      id: \"agegroupsDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 8\n      }\n    }, this.state.agegroups), /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedRace,\n      onChange: this.handleRaceChange,\n      className: \"dropdown\",\n      id: \"racesDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 8\n      }\n    }, this.state.races), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"submitBtn\",\n      onClick: this.submitDecadeGenre,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 8\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 6\n      }\n    }, \"The result is shown below, in which 1 means people who are infected among the selected group are 100% in hospital/in icu/death\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 152\n      }\n    }), \"and 0 means people who are infected among the selected group are 0% in hospital/in icu/death\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 33\n      }\n    }, \"Ratio of In Hospitial\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 33\n      }\n    }, \"Ratio of In ICU\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 33\n      }\n    }, \"Ratio of Death\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 12\n      }\n    }, this.state.results)))));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/BestMovies.js"],"names":["React","PageNavbar","BestMoviesRow","BestMovies","Component","constructor","props","state","selectedSex","selectedAgegroup","selectedRace","sexes","agegroups","races","results","submitDecadeGenre","bind","handleSexChange","handleAgegroupChange","handleRaceChange","componentDidMount","setState","sex","map","sexesObj","i","Decade","decadesObj","Race","racesObj","e","console","log","target","value","fetch","method","then","res","json","err","resList","resDivs","resObj","ratio1","ratio2","ratio3","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAO,yBAAP;AACA,OAAO,sCAAP;AAEA,eAAe,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACvDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACZC,MAAAA,WAAW,EAAC,EADA;AAEZC,MAAAA,gBAAgB,EAAE,EAFN;AAGZC,MAAAA,YAAY,EAAE,EAHF;AAIZC,MAAAA,KAAK,EAAE,EAJK;AAKZC,MAAAA,SAAS,EAAE,EALC;AAMZC,MAAAA,KAAK,EAAE,EANK;AAOZC,MAAAA,OAAO,EAAE;AAPG,KAAb;AAUA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AAEA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BF,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKG,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAAxB;AACA;;AAED;AACAI,EAAAA,iBAAiB,GAAG;AAEhB,SAAKC,QAAL,CAAc;AAChBV,MAAAA,KAAK,EAAG,CAAC;AAACW,QAAAA,GAAG,EAAE;AAAN,OAAD,EAAgB;AAACA,QAAAA,GAAG,EAAE;AAAN,OAAhB,EAAiCC,GAAjC,CAAqC,CAACC,QAAD,EAAWC,CAAX,kBAC1C;AACI,QAAA,GAAG,EAAEA,CADT;AAEI,QAAA,SAAS,EAAC,aAFd;AAGC,QAAA,KAAK,EAAED,QAAQ,CAACF,GAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGuBE,QAAQ,CAACF,GAHhC,CADK,CADQ;AAQhBd,MAAAA,WAAW,EAAE;AARG,KAAd;AAWD,SAAKa,QAAL,CAAc;AACfT,MAAAA,SAAS,EAAE,CAAC;AAACc,QAAAA,MAAM,EAAE;AAAT,OAAD,EACa;AAACA,QAAAA,MAAM,EAAE;AAAT,OADb,EAEF;AAACA,QAAAA,MAAM,EAAE;AAAT,OAFE,EAGF;AAACA,QAAAA,MAAM,EAAE;AAAT,OAHE,EAIF;AAACA,QAAAA,MAAM,EAAE;AAAT,OAJE,EAKF;AAACA,QAAAA,MAAM,EAAE;AAAT,OALE,EAMF;AAACA,QAAAA,MAAM,EAAE;AAAT,OANE,EAOF;AAACA,QAAAA,MAAM,EAAE;AAAT,OAPE,EAQF;AAACA,QAAAA,MAAM,EAAE;AAAT,OARE,EAQqBH,GARrB,CAQyB,CAACI,UAAD,EAAaF,CAAb,kBACjC;AACI,QAAA,GAAG,EAAEA,CADT;AAEI,QAAA,SAAS,EAAC,eAFd;AAGC,QAAA,KAAK,EAAEE,UAAU,CAACD,MAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAG4BC,UAAU,CAACD,MAHvC,CATQ,CADI;AAgBfjB,MAAAA,gBAAgB,EAAE;AAhBH,KAAd;AAoBA,SAAKY,QAAL,CAAc;AACfR,MAAAA,KAAK,EAAE,CAAC;AAACe,QAAAA,IAAI,EAAE;AAAP,OAAD,EACe;AAACA,QAAAA,IAAI,EAAE;AAAP,OADf,EAEA;AAACA,QAAAA,IAAI,EAAE;AAAP,OAFA,EAGA;AAACA,QAAAA,IAAI,EAAE;AAAP,OAHA,EAIA;AAACA,QAAAA,IAAI,EAAE;AAAP,OAJA,EAKA;AAACA,QAAAA,IAAI,EAAE;AAAP,OALA,EAMA;AAACA,QAAAA,IAAI,EAAE;AAAP,OANA,EAMiBL,GANjB,CAMqB,CAACM,QAAD,EAAWJ,CAAX,kBACzB;AACI,QAAA,GAAG,EAAEA,CADT;AAEI,QAAA,SAAS,EAAC,aAFd;AAGC,QAAA,KAAK,EAAEI,QAAQ,CAACD,IAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGwBC,QAAQ,CAACD,IAHjC,CAPI,CADQ;AAcflB,MAAAA,YAAY,EAAE;AAdC,KAAd;AAkBF;;AAED;AACAO,EAAAA,eAAe,CAACa,CAAD,EAAI;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,SAAKb,QAAL,CAAc;AACbb,MAAAA,WAAW,EAAEsB,CAAC,CAACG,MAAF,CAASC;AADT,KAAd;AAKA;;AAEDhB,EAAAA,oBAAoB,CAACY,CAAD,EAAI;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,SAAKb,QAAL,CAAc;AACbZ,MAAAA,gBAAgB,EAAEqB,CAAC,CAACG,MAAF,CAASC;AADd,KAAd;AAKA;;AAEDf,EAAAA,gBAAgB,CAACW,CAAD,EAAI;AACnBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,SAAKb,QAAL,CAAc;AACbX,MAAAA,YAAY,EAAEoB,CAAC,CAACG,MAAF,CAASC;AADV,KAAd;AAIA;;AAED;AACAnB,EAAAA,iBAAiB,GAAG;AACnBoB,IAAAA,KAAK,CAAC,kCAAiC,KAAK5B,KAAL,CAAWC,WAA5C,GAAyD,GAAzD,GAA8D,KAAKD,KAAL,CAAWE,gBAAzE,GAA0F,GAA1F,GAA8F,KAAKF,KAAL,CAAWG,YAA1G,EACL;AACE0B,MAAAA,MAAM,EAAE,KADV,CACgB;;AADhB,KADK,CAAL,CAGGC,IAHH,CAGQC,GAAG,IAAG;AACZ,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,KALD,EAKGC,GAAG,IAAI;AACR;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACA,KATF,EASIH,IATJ,CASSI,OAAO,IAAI;AAClB,UAAI,CAACA,OAAL,EAAc;AACTV,MAAAA,OAAO,CAACC,GAAR,CAAYS,OAAZ;AACL,YAAMC,OAAO,GAAGD,OAAO,CAAClB,GAAR,CAAY,CAACoB,MAAD,EAASlB,CAAT,kBAC7B,oBAAC,aAAD;AACI,QAAA,GAAG,EAAEA,CADT;AAEC,QAAA,KAAK,EAAEkB,MAAM,CAACC,MAFf;AAGC,QAAA,QAAQ,EAAED,MAAM,CAACE,MAHlB;AAIC,QAAA,MAAM,EAAEF,MAAM,CAACG,MAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADiB,CAAhB,CAHkB,CAYlB;;AACA,WAAKzB,QAAL,CAAc;AACfP,QAAAA,OAAO,EAAC4B;AADO,OAAd;AAGD,KAzBD,EAyBGF,GAAG,IAAI;AACRT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACD,KA3BD;AA6BA;;AAEDO,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEC,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,eAIC;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,KAAK,EAAC,8BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAK,MAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2HAAuH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvH,iEAHF,eAKE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAE,KAAKxC,KAAL,CAAWC,WAA1B;AAAuC,MAAA,QAAQ,EAAE,KAAKS,eAAtD;AAAuE,MAAA,SAAS,EAAC,UAAjF;AAA4F,MAAA,EAAE,EAAC,eAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKV,KAAL,CAAWI,KADb,CADJ,eAIC;AAAQ,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,gBAA1B;AAA4C,MAAA,QAAQ,EAAE,KAAKS,oBAA3D;AAAiF,MAAA,SAAS,EAAC,UAA3F;AAAsG,MAAA,EAAE,EAAC,mBAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKX,KAAL,CAAWK,SADb,CAJD,eAOC;AAAQ,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWG,YAA1B;AAAwC,MAAA,QAAQ,EAAE,KAAKS,gBAAvD;AAAyE,MAAA,SAAS,EAAC,UAAnF;AAA8F,MAAA,EAAE,EAAC,eAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKZ,KAAL,CAAWM,KADb,CAPD,eAUC;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,EAAE,EAAC,WAAlC;AAA8C,MAAA,OAAO,EAAE,KAAKE,iBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVD,CALF,CADA,eAmBC;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sJAAkJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlJ,iGADA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,eAIC;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAxB,CADD,eAEC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAxB,CAFD,eAGC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAxB,CAHD,CADD,eAMK;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,EAAE,EAAC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKR,KAAL,CAAWO,OADd,CANL,CAJD,CAnBD,CAJD,CADD;AA0CA;;AAlLsD;AAmLvD","sourcesContent":["import React from 'react';\nimport PageNavbar from './PageNavbar';\nimport BestMoviesRow from './BestMoviesRow';\nimport '../style/BestMovies.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class BestMovies extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tselectedSex:\"\",\n\t\t\tselectedAgegroup: \"\",\n\t\t\tselectedRace: \"\",\n\t\t\tsexes: [],\n\t\t\tagegroups: [],\n\t\t\traces: [],\n\t\t\tresults: []\n\t\t};\n\n\t\tthis.submitDecadeGenre = this.submitDecadeGenre.bind(this);\n\n\t\tthis.handleSexChange = this.handleSexChange.bind(this);\n\t\tthis.handleAgegroupChange = this.handleAgegroupChange.bind(this);\n\t\tthis.handleRaceChange = this.handleRaceChange.bind(this);\n\t};\n\n\t/* ---- Q3a (Best Movies) ---- */\n\tcomponentDidMount() {\n\n\t\t   this.setState({\n\t\t\tsexes:  [{sex: \"Male\"}, {sex: \"Female\"}].map((sexesObj, i) =>\n  \t\t  <option\n  \t\t      key={i}\n  \t\t      className=\"sexesOption\"\n  \t\t\t  value={sexesObj.sex}>{sexesObj.sex}\n  \t\t  </option>\n  \t\t  ),\n\t\t\tselectedSex: 'Male',\n\t\t  });\n\n\t\t  this.setState({\n\t\t\tagegroups: [{Decade: \"0 - 9 Years\"},\n  \t\t                       {Decade: \"10 - 19 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"20 - 29 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"30 - 39 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"40 - 49 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"50 - 59 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"60 - 69 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"70 - 79 Years\"},\n  \t\t\t\t\t\t\t   {Decade: \"80+ Years\"}].map((decadesObj, i) =>\n  \t\t  <option\n  \t\t      key={i}\n  \t\t      className=\"decadesOption\"\n  \t\t\t  value={decadesObj.Decade}>{decadesObj.Decade}\n  \t\t  </option>\n  \t\t  ),\n\t\t\tselectedAgegroup: \"0 - 9 Years\",\n\t\t  });\n\n\n\t\t  this.setState({\n\t\t\traces: [{Race: \"American Indian-Alaska Native\"},\n  \t\t                     {Race: \"Asian\"},\n  \t\t\t\t\t\t\t {Race: \"Black\"},\n  \t\t\t\t\t\t\t {Race: \"Hispanic-Latino\"},\n  \t\t\t\t\t\t\t {Race: \"Multiple-Other\"},\n  \t\t\t\t\t\t\t {Race: \"Native Hawaiian-Other Pacific Islander\"},\n  \t\t\t\t\t\t\t {Race: \"White\"}].map((racesObj, i) =>\n  \t\t  <option\n  \t\t      key={i}\n  \t\t      className=\"racesOption\"\n  \t\t\t  value={racesObj.Race}>{racesObj.Race}\n  \t\t  </option>\n  \t\t  ),\n\t\t\tselectedRace: \"American Indian-Alaska Native\",\n\t\t  });\n\n\n\t};\n\n\t/* ---- Q3a (Best Movies) ---- */\n\thandleSexChange(e) {\n\t\tconsole.log(e.target.value);\n\t\tthis.setState({\n\t\t\tselectedSex: e.target.value\n\t\t});\n\n\n\t};\n\n\thandleAgegroupChange(e) {\n\t\tconsole.log(e.target.value);\n\t\tthis.setState({\n\t\t\tselectedAgegroup: e.target.value\n\t\t});\n\n\n\t};\n\n\thandleRaceChange(e) {\n\t\tconsole.log(e.target.value);\n\t\tthis.setState({\n\t\t\tselectedRace: e.target.value\n\t\t});\n\n\t};\n\n\t/* ---- Q3b (Best Movies) ---- */\n\tsubmitDecadeGenre() {\n\t\tfetch(\"http://localhost:8081/groups/\"+ this.state.selectedSex +\"/\" +this.state.selectedAgegroup+\"/\"+this.state.selectedRace,\n\t\t{\n\t\t  method: 'GET' // The type of HTTP request.\n\t\t}).then(res =>{\n\t\t  return res.json();\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log('nononononononono');\n\t\t  console.log(err);\n\t  }).then(resList => {\n\t\t  if (!resList) return;\n         console.log(resList);\n\t\t  const resDivs = resList.map((resObj, i) =>\n\t\t\t<BestMoviesRow\n\t\t\t    key={i}\n\t\t\t\ttitle={resObj.ratio1}\n\t\t\t\tmovie_id={resObj.ratio2}\n\t\t\t\tratio3={resObj.ratio3}\n\t\t\t/>\n\t\t  );\n\n\t\t  // Set the state of the keywords list to the value returned by the HTTP response from the server.\n\t\t  this.setState({\n\t\t\tresults:resDivs\n\t\t  });\n\t\t}, err => {\n\t\t  console.log(err);\n\t\t});\n\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"BestMovies\">\n\n\t\t\t\t<PageNavbar active=\"groups\" />\n\n\t\t\t\t<div className=\"container bestmovies-container\">\n\t\t\t\t<div class=\"jumbotron bg-dark text-white\">\n\t\t\t\t\t\t<div className=\"h5\">Covid Group Exploration</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div className=\"h6\">By choosing sex, race and age group, we can see three the percentage of whether people infected by <br></br>COVID-19 among their group are in hospital, in icu or death.\n                        </div>\n\t\t\t\t\t\t<div className=\"dropdown-container\">\n\t\t\t\t\t\t    <select value={this.state.selectedSex} onChange={this.handleSexChange} className=\"dropdown\" id=\"sexesDropdown\">\n\t\t\t\t\t\t\t    {this.state.sexes}\n\t\t\t\t\t\t    </select>\n\t\t\t\t\t\t\t<select value={this.state.selectedAgegroup} onChange={this.handleAgegroupChange} className=\"dropdown\" id=\"agegroupsDropdown\">\n\t\t\t\t\t\t\t\t{this.state.agegroups}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<select value={this.state.selectedRace} onChange={this.handleRaceChange} className=\"dropdown\" id=\"racesDropdown\">\n\t\t\t\t\t\t\t\t{this.state.races}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<button className=\"submit-btn\" id=\"submitBtn\" onClick={this.submitDecadeGenre}>Submit</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"jumbotron\">\n\t\t\t\t\t<div className=\"h6\">The result is shown below, in which 1 means people who are infected among the selected group are 100% in hospital/in icu/death<br></br>\n\t\t\t\t\tand 0 means people who are infected among the selected group are 0% in hospital/in icu/death</div>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div className=\"movies-container\">\n\t\t\t\t\t\t\t<div className=\"movie\">\n\t\t\t\t\t\t\t\t<div className=\"header\"><strong>Ratio of In Hospitial</strong></div>\n\t\t\t\t\t\t\t\t<div className=\"header\"><strong>Ratio of In ICU</strong></div>\n\t\t\t\t\t\t\t\t<div className=\"header\"><strong>Ratio of Death</strong></div>\n\t\t\t\t\t</div>\n\t\t\t        <div className=\"movies-container\" id=\"results\">\n\t\t\t          {this.state.results}\n\t\t\t        </div>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t);\n\t};\n};\n"]},"metadata":{},"sourceType":"module"}