{"ast":null,"code":"var _jsxFileName = \"/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/Map.js\";\nimport React, { Component } from 'react';\nimport { MapContainer, CircleMarker, TileLayer, Tooltip } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport '../style/Map.css';\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      countries: [],\n      week: [],\n      selectedWeek: \"\"\n    };\n    this.submitWeekChange = this.submitWeekChange.bind(this);\n    this.handleWeekChange = this.handleWeekChange.bind(this); // this.handleGenreChange = this.handleGenreChange.bind(this);\n  }\n\n  /* ---- Q3a (Best Movies) ---- */\n  componentDidMount() {\n    fetch(\"http://localhost:8081/test\", {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      // console.log(res.json());\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(casesList => {\n      if (!casesList) return;\n      const countriesDivs = casesList.map((casesObj, i) => /*#__PURE__*/React.createElement(CircleMarker, {\n        key: i,\n        center: [casesObj.latitude, casesObj.longitude] // radius={20 * Math.log(casesObj.Confirmed / 100000)}\n        ,\n        radius: casesObj.Confirmed / 400000,\n        fillOpacity: 0.5,\n        color: \"red\",\n        stroke: false,\n        name: casesObj.Country,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        direction: \"right\",\n        offset: [-8, -2],\n        opacity: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, casesObj.Country), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, \"Confirmed \\n\" + \": \" + casesObj.Confirmed), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }, \"Deaths \\n\" + \": \" + casesObj.Deaths)))); // Set the state of the keywords list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        countries: countriesDivs\n      });\n      console.log(this.state.countries[0]);\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }); //fetch the weeks options\n\n    fetch(\"http://localhost:8081/week\", {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(weekList => {\n      if (!weekList) return;\n      const weekDivs = weekList.map((weekObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        className: \"weekOption\",\n        value: weekObj.Date,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 5\n        }\n      }, weekObj.Date)); //   console.log(decadesDivs);\n      //    console.log(decadesList);\n\n      this.setState({\n        week: weekDivs,\n        selectedWeek: weekDivs[0].props.value\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  handleWeekChange(e) {\n    console.log(e.target.value);\n    let tmp = e.target.value;\n    let date = tmp.substring(0, 10);\n    console.log(date);\n    this.setState({\n      selectedWeek: date\n    });\n  }\n\n  submitWeekChange(e) {\n    fetch(\"http://localhost:8081/byWeek/\" + this.state.selectedWeek, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(casesList => {\n      if (!casesList) return;\n      const countriesDivs = casesList.map((casesObj, i) => /*#__PURE__*/React.createElement(CircleMarker, {\n        key: i,\n        center: [casesObj.latitude, casesObj.longitude] // radius={20 * Math.log(casesObj.Confirmed / 100000)}\n        ,\n        radius: casesObj.Confirmed / 400000,\n        fillOpacity: 0.5,\n        color: \"red\",\n        stroke: false,\n        name: casesObj.Country,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        direction: \"right\",\n        offset: [-8, -2],\n        opacity: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, casesObj.Country), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, \"Confirmed \\n\" + \": \" + casesObj.Confirmed), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, \"Deaths \\n\" + \": \" + casesObj.Deaths)))); // Set the state of the keywords list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        countries: countriesDivs\n      });\n      console.log(this.state.countries[0]);\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.selectedWeek,\n      onChange: this.handleWeekChange,\n      className: \"dropdown\",\n      id: \"weekDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, this.state.week), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"submitBtn\",\n      onClick: this.submitWeekChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"myMap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MapContainer, {\n      style: {\n        height: \"680px\",\n        width: \"100%\",\n        backgroundColor: \"#696969\",\n        color: \"blue\"\n      },\n      zoom: 2,\n      center: [0, 0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer, {\n      url: \"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, this.state.countries))));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/Users/daria/Desktop/ALL/Spring_2021/550/Project/CIS550-Final-Project/client/src/components/Map.js"],"names":["React","Component","MapContainer","CircleMarker","TileLayer","Tooltip","Map","constructor","props","state","countries","week","selectedWeek","submitWeekChange","bind","handleWeekChange","componentDidMount","fetch","method","then","res","json","err","console","log","casesList","countriesDivs","map","casesObj","i","latitude","longitude","Confirmed","Country","Deaths","setState","weekList","weekDivs","weekObj","Date","value","e","target","tmp","date","substring","render","height","width","backgroundColor","color"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport { MapContainer, CircleMarker, TileLayer,Tooltip } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport '../style/Map.css';\nclass Map extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcountries: [],\n            week: [],\n            selectedWeek: \"\"\n\t\t};\n\n\t\tthis.submitWeekChange = this.submitWeekChange.bind(this);\n\t    this.handleWeekChange = this.handleWeekChange.bind(this);\n\t\t// this.handleGenreChange = this.handleGenreChange.bind(this);\n\t};\n\n\t/* ---- Q3a (Best Movies) ---- */\n\tcomponentDidMount() {\n\t\n\t\tfetch(\"http://localhost:8081/test\",\n\t\t{\n\t\t  method: 'GET' // The type of HTTP request.\n\t\t}).then(res => {\n\t\t  // Convert the response data to a JSON.\n\t\t// console.log(res.json());\n          return res.json();\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log(err);\n\t  }).then(casesList => {\n            if (!casesList) return;\n            const countriesDivs = casesList.map((casesObj, i) =>\n        <CircleMarker\n            key={i}\n            center={[casesObj.latitude, casesObj.longitude]}\n            // radius={20 * Math.log(casesObj.Confirmed / 100000)}\n            radius={casesObj.Confirmed / 400000}\n            fillOpacity={0.5}\n            color=\"red\"\n            stroke={false}\n            name={casesObj.Country}\n        >\n            <Tooltip direction=\"right\" offset={[-8, -2]} opacity={1}>\n                <span>{casesObj.Country }</span>\n                <br />\n                <span>{ \"Confirmed \\n\" + \": \" + casesObj.Confirmed}</span>\n                <br />\n                <span>{ \"Deaths \\n\" + \": \" + casesObj.Deaths}</span>\n            </Tooltip>\n        </CircleMarker>\n        );\n\n        // Set the state of the keywords list to the value returned by the HTTP response from the server.\n        this.setState({\n            countries:countriesDivs\n        });\n        console.log(this.state.countries[0]);\n    }, err => {\n        // Print the error if there is one.\n        console.log(err);\n      });\n\n        //fetch the weeks options\n        fetch(\"http://localhost:8081/week\",\n\t\t{\n\t\t  method: 'GET' // The type of HTTP request.\n\t\t}).then(res => {\n\t\t  // Convert the response data to a JSON.\n\t\t  return res.json();\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log(err);\n\t  }).then(weekList => {\n\t\t  if (!weekList) return;\n\n\t\t  const weekDivs = weekList.map((weekObj, i) =>\n\t\t  <option\n\t\t      key={i}\n\t\t      className=\"weekOption\"\n\t\t\t  value={weekObj.Date}>{weekObj.Date}\n\t\t  </option>\n\t\t  );\n        //   console.log(decadesDivs);\n\t\t//    console.log(decadesList);\n\t\t  this.setState({\n\t\t\tweek: weekDivs,\n\t\t\tselectedWeek: weekDivs[0].props.value,\n\t\t  });\n\t\t}, err => {\n\t\t  // Print the error if there is one.\n\t\t  console.log(err);\n\t\t});\n\n\t};\n    handleWeekChange(e) {\n\t\tconsole.log(e.target.value);\n        let tmp = e.target.value;\n        let date = tmp.substring(0,10);\n        console.log(date);\n\t\tthis.setState({\n\t\t\tselectedWeek: date\n\t\t});\n\n\t};\n\n    submitWeekChange(e) {\n        fetch(\"http://localhost:8081/byWeek/\"+this.state.selectedWeek,\n        {\n            method: 'GET' // The type of HTTP request.\n        }).then(res =>{\n            return res.json();\n        }, err => {\n            // Print the error if there is one.\n            console.log(err);\n        }).then(casesList => {\n            if (!casesList) return;\n            const countriesDivs = casesList.map((casesObj, i) =>\n        <CircleMarker\n            key={i}\n            center={[casesObj.latitude, casesObj.longitude]}\n            // radius={20 * Math.log(casesObj.Confirmed / 100000)}\n            radius={casesObj.Confirmed / 400000}\n            fillOpacity={0.5}\n            color=\"red\"\n            stroke={false}\n            name={casesObj.Country}\n        >\n            <Tooltip direction=\"right\" offset={[-8, -2]} opacity={1}>\n                <span>{casesObj.Country }</span>\n                <br />\n                <span>{ \"Confirmed \\n\" + \": \" + casesObj.Confirmed}</span>\n                <br />\n                <span>{ \"Deaths \\n\" + \": \" + casesObj.Deaths}</span>\n            </Tooltip>\n        </CircleMarker>\n        );\n\n        // Set the state of the keywords list to the value returned by the HTTP response from the server.\n        this.setState({\n            countries:countriesDivs\n        });\n        console.log(this.state.countries[0]);\n    }, err => {\n        // Print the error if there is one.\n        console.log(err);\n      });\n    \n\t};\n  render() {\n    return (\n        <div>\n        <div className=\"dropdown-container\">\n        <select value={this.state.selectedWeek} onChange={this.handleWeekChange} className=\"dropdown\" id=\"weekDropdown\">\n            {this.state.week}\n        </select>\n        <button className=\"submit-btn\" id=\"submitBtn\" onClick={this.submitWeekChange}>Submit</button>\n        </div>\n      <div id = \"myMap\">\n        <MapContainer\n          style={{ height: \"680px\", width: \"100%\", backgroundColor: \"#696969\",color:\"blue\" }}\n          zoom={2}\n          center={[0, 0]}>\n              <TileLayer url=\"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png\" />\n              <div className=\"movies-container\" id=\"results\">\n\t\t\t          {this.state.countries}\n\t\t\t        </div>\n        </MapContainer>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}